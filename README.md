
# 目的：提升代码质量、理解底层指标原理和优化系统架构，从市场情绪化交易中走出来，学习量化思想

### 📊 技术与指标深度掌握

* **MACD 指标原理掌握**：深入理解了移动平均收敛/发散指标（MACD）的计算细节：
    * **EMA (Exponential Moving Average)**：指数移动平均线的计算及意义。
    * **DIF (Difference)**：快线（短期EMA）与慢线（长期EMA）的差值计算。
    * **DEM/MACD_Signal**：DIF 线的 EMA（信号线）的计算。
    * **HIST (Histogram)**：MACD 柱的含义与计算方法 ($\text{HIST} = \text{DIF} - \text{DEM}$)。
* **Pandas 数据处理**：精通 `Series` 和 `DataFrame` 等常用类型，深入理解并掌握了索引（Index）操作、数据切片、行/列设置等高级用法，为数据处理打下了坚实基础。

### ⚙️ 软件工程与架构优化

* **单一职责原则 (SRP) 实践**：对类和方法的功能进行了严格的单一化划分，极大地避免了 **“混杂类”** 和 **“混杂方法”** 的出现。实现了数据获取、仓位管理、策略逻辑和回测执行的**模块化分离**。
* **代码规范与优美写法**：掌握了 Python 社区推崇的规范写法，提高了代码的可读性和可维护性。
* **配置管理**：学习并实践了使用独立的 `Config` 文件管理全局常量和参数，实现了配置与核心逻辑的分离。
* **异常处理与健壮性**：学习并应用了 `tenacity` 库的 `@retry` 装饰器，掌握了连接中断、SSL错误等网络不稳定情况下的**自动重试机制**，增强了数据获取的健壮性，**极力避免了代码中的数据丢失**。
* **理解python接口与java接口,typescript接口与类型定义的不同**
## 🛠️ 项目不足与未来优化方向

### 尽管项目取得了显著进步，但在工程细节上仍有提升空间，主要集中在命名规范上。

| 区域 | 不足描述 | 改进目标 |
| :--- | :--- | :--- |
| **命名规范** | 在项目过程中，变量和函数命名仍存在一定的随意性，未始终遵循清晰、简洁、具有自解释性的原则。 | 严格遵循 PEP 8 命名规范，确保所有变量、函数和方法名都能准确反映其功能和意图，实现**命名即文档**。 |

### 以上是个人总结(bushi)

### ~~以下是ai总结~~
- 减少了神类和神函数
- 终于又写出了一个不完全是shi山的代码(~~不是shi山其实是因为还没写啥东西~~)
- 符合兴趣 !(重点)
--------
### 2025/11/23 分离模块，初步进行功能分离
- 学习csv与pd dataframe对于csv数据的处理，理解dataframe对于索引，值，排序
- 将策略模块初步分离，并尝试减少功能杂糅

### 2025/11/25 复习pyqt的ui布局,复习其与tkinter的差异,理解pyqt组件，布局之间的关系和伸展器的使用
- 完成基础ui界面,准备进行策略回测的解耦，通过全局Config完成对接
- 理解了过度分块造成的问题，理解了不同模块直接的使用需要一个共同的Config
- 完成回测模块的解耦，移除经常数据粘合对象的情况，仅在调用时候赋予
- 完成了ui选择币对和k线周期，k线数量的功能


### 2025/11/26 完成本地保存csv部分内容
- 对本地保存数据csv做出修改和调整
- 寻找卡死ui主线程的罪魁祸首，修改部分影响线程的bug
- 使得更多配置解耦

### 2025/11/29 明确下一目标:减少数据量请求次数减少api封禁和完成策略信号判断的精确基础
- TODO1:完成本地localdata的创建，仅获取1min k线数据,其他时间段可以基于最小时间进行拼接，目的是为策略回测提供更精确的位置判断
- TODO2:对回测模块升级，构建策略独立与仓位独立的统一处理模块
- TODO3:API功能过于复杂,分离数据处理模块

### 2025/11/29 完成程序修改和最小k线数据获取
- 封装了check_path函数用于检查并创建文件
- 为Config常量提供类型注解
- 修改api请求参数时get_future_data中 start_time与end_time与limit逻辑冗余和可能错误问题,移除end_time
- 探究每次拼接dataframe和list最后一次性拼接的性能问题,最终保持使用list存放内存，最后一次拼接
- 使用倒序+插入+动态调整替代提前计算，从逻辑上避免时间极限导致的数据重复


### 2025/11/30 修改逻辑和完善本地localdata的读写操作
- API>_init_data的数据循环中,下次循环调用初始时间调用完全基于上次,理论上可以避免因为网络问题造成的一次数据丢失问题
- 修改为end_time向前循环获取数据,完成_init_data基础逻辑
- 标定部分功能待更改和废弃

### 2025/12/1 学习SQLite,准备迁移数据localdata至SQLite优化数据结构
- 完整了csv下的数据读写更新操作
- 了解sqlite
- 对时区印象加深